<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>DivWin: /media/FileStore/My Documents/C++ Code/DivWinLibrary/src/Files/Meshes/MeshClasses/WTcCluster.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DivWin&#160;<span id="projectnumber">1.0v</span></div>
   <div id="projectbrief">Games Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('_w_tc_cluster_8cpp.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<h1>/media/FileStore/My Documents/C++ Code/DivWinLibrary/src/Files/Meshes/MeshClasses/WTcCluster.cpp</h1>  </div>
</div>
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#include &quot;../../../WTDivWin.h&quot;</span>
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 
<a name="l00004"></a>00004 
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 
<a name="l00009"></a><a class="code" href="classc_cluster_list.html#a4cfd14c5029479723ae1adb36a22696c">00009</a> <span class="keywordtype">void</span> <a class="code" href="classc_cluster_list.html#a4cfd14c5029479723ae1adb36a22696c">cClusterList::Optimise</a>()
<a name="l00010"></a>00010 {
<a name="l00011"></a>00011         uint32 liCount;
<a name="l00012"></a>00012         <span class="keywordflow">for</span>(liCount=0;liCount&lt;<a class="code" href="classc_limited_list.html#a9509f6f3a5d9ad28608fbf288e43cf37">miItems</a>;++liCount)
<a name="l00013"></a>00013         {
<a name="l00014"></a>00014                 <a class="code" href="classc_limited_list.html#aa3b0a10ecf4169b9bd7b41b0152e6a6a">mpList</a>[liCount].<a class="code" href="classc_cluster.html#afd4809ebe068176d59baabd068ba217b">Optimise</a>();
<a name="l00015"></a>00015         }
<a name="l00016"></a>00016 };
<a name="l00017"></a>00017 
<a name="l00018"></a><a class="code" href="classc_cluster.html#a18406f95cb8ae040c5db49c6ca213e59">00018</a> <span class="keywordtype">void</span> <a class="code" href="classc_cluster.html#a18406f95cb8ae040c5db49c6ca213e59">cCluster::Add</a>(<a class="code" href="classc_full_face_data.html" title="This class is a cFace with expanded Functionality. Allows the user to check information about the fac...">cFullFaceData</a> &amp;lpData)
<a name="l00019"></a>00019 {
<a name="l00020"></a>00020  Faces[miItems].<a class="code" href="classc_face.html#aa61d6dca6df8211a1a816edbf303bd27">Plane</a>=lpData.<a class="code" href="classc_face.html#aa61d6dca6df8211a1a816edbf303bd27">Plane</a>;
<a name="l00021"></a>00021  memcpy(Faces[miItems++].Verteces,lpData.<a class="code" href="classc_face.html#ae08ccc2952b022dce6848628649d61c8">Verteces</a>,<span class="keyword">sizeof</span>(<a class="code" href="classc_vertex.html">cVertex</a>)*3);
<a name="l00022"></a>00022 };
<a name="l00023"></a>00023 
<a name="l00024"></a><a class="code" href="classc_cluster_list.html#add154dae70923fdf275dbffbe2535bc6">00024</a> <span class="keywordtype">void</span> <a class="code" href="classc_cluster_list.html#add154dae70923fdf275dbffbe2535bc6">cClusterList::GenerateConvex</a>(<a class="code" href="classc_full_face_list.html" title="A dynamic linked list of cFullFaceData. As described. Can load object to and from IMFs...">cFullFaceList</a> &amp;ClusterData)
<a name="l00025"></a>00025 {
<a name="l00026"></a>00026 
<a name="l00027"></a>00027         int32 liCount;
<a name="l00028"></a>00028         
<a name="l00029"></a>00029         <span class="keywordflow">while</span>(ClusterData.<a class="code" href="classc_limited_list.html#a0109c9831d7bf20d5ba259fc188be714">Items</a>())
<a name="l00030"></a>00030         {
<a name="l00031"></a>00031                 
<a name="l00032"></a>00032                 <span class="keywordflow">for</span>(liCount=0;liCount&lt;(int32)ClusterData.<a class="code" href="classc_limited_list.html#a0109c9831d7bf20d5ba259fc188be714">Items</a>()-1;++liCount)
<a name="l00033"></a>00033                 {
<a name="l00034"></a>00034                         <span class="keywordflow">if</span>(!ClusterData[liCount].IsConcave(ClusterData))
<a name="l00035"></a>00035                         {
<a name="l00036"></a>00036                                 <a class="code" href="classc_limited_list.html#aa3b0a10ecf4169b9bd7b41b0152e6a6a">mpList</a>[0].<a class="code" href="classc_cluster.html#a18406f95cb8ae040c5db49c6ca213e59">Add</a>(ClusterData[liCount]);
<a name="l00037"></a>00037                                 ClusterData.<a class="code" href="classc_limited_list.html#a944c6ae2b1e13a144cc384766f9c12ae">Remove</a>(liCount);
<a name="l00038"></a>00038                                 --liCount;
<a name="l00039"></a>00039                         }
<a name="l00040"></a>00040                         
<a name="l00041"></a>00041                 }
<a name="l00042"></a>00042         }
<a name="l00043"></a>00043         <a class="code" href="classc_limited_list.html#a9509f6f3a5d9ad28608fbf288e43cf37">miItems</a>=1;
<a name="l00044"></a>00044         
<a name="l00045"></a>00045 };
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 
<a name="l00048"></a><a class="code" href="classc_cluster_list.html#a09dfd33c463dce1fbb7a29ff27ffe862">00048</a> <span class="keywordtype">void</span> <a class="code" href="classc_cluster_list.html#a09dfd33c463dce1fbb7a29ff27ffe862">cClusterList::GenerateConcaves</a>(<a class="code" href="classc_full_face_list.html" title="A dynamic linked list of cFullFaceData. As described. Can load object to and from IMFs...">cFullFaceList</a> &amp;ClusterData)
<a name="l00049"></a>00049 {
<a name="l00050"></a>00050         uint32 liCount;
<a name="l00051"></a>00051         int32 liLoop;
<a name="l00052"></a>00052         <a class="code" href="classc_limited_list.html#a9509f6f3a5d9ad28608fbf288e43cf37">miItems</a>=0;
<a name="l00053"></a>00053         <span class="keywordflow">while</span>(ClusterData.<a class="code" href="classc_limited_list.html#a0109c9831d7bf20d5ba259fc188be714">Items</a>())
<a name="l00054"></a>00054         {
<a name="l00055"></a>00055                 <a class="code" href="classc_limited_list.html#aa3b0a10ecf4169b9bd7b41b0152e6a6a">mpList</a>[++<a class="code" href="classc_limited_list.html#a9509f6f3a5d9ad28608fbf288e43cf37">miItems</a>].<a class="code" href="classc_cluster.html#a18406f95cb8ae040c5db49c6ca213e59">Add</a>(ClusterData[0]);
<a name="l00056"></a>00056                 ClusterData.<a class="code" href="classc_limited_list.html#a944c6ae2b1e13a144cc384766f9c12ae">Remove</a>(0);
<a name="l00057"></a>00057                 <span class="keywordtype">bool</span> lbFinished=<span class="keyword">false</span>;
<a name="l00058"></a>00058                 <span class="keywordflow">while</span>(!lbFinished)
<a name="l00059"></a>00059                 {
<a name="l00060"></a>00060                         lbFinished=<span class="keyword">true</span>;
<a name="l00061"></a>00061                         <span class="keywordflow">for</span>(liCount=0;liCount&lt;<a class="code" href="classc_limited_list.html#aa3b0a10ecf4169b9bd7b41b0152e6a6a">mpList</a>[<a class="code" href="classc_limited_list.html#a9509f6f3a5d9ad28608fbf288e43cf37">miItems</a>].<a class="code" href="classc_cluster.html#a839fcbeea273b74074f24b818113e84e">Items</a>();++liCount)
<a name="l00062"></a>00062                         {
<a name="l00063"></a>00063                                 <span class="keywordflow">for</span>(liLoop=0;liLoop&lt;(int32)ClusterData.<a class="code" href="classc_limited_list.html#a0109c9831d7bf20d5ba259fc188be714">Items</a>();++liLoop)
<a name="l00064"></a>00064                                 {
<a name="l00065"></a>00065                                         <span class="keywordflow">if</span>(ClusterData[liLoop].IsConcave(<a class="code" href="classc_limited_list.html#aa3b0a10ecf4169b9bd7b41b0152e6a6a">mpList</a>[<a class="code" href="classc_limited_list.html#a9509f6f3a5d9ad28608fbf288e43cf37">miItems</a>].Face(liCount)))
<a name="l00066"></a>00066                                         {
<a name="l00067"></a>00067                                                 <a class="code" href="classc_limited_list.html#aa3b0a10ecf4169b9bd7b41b0152e6a6a">mpList</a>[<a class="code" href="classc_limited_list.html#a9509f6f3a5d9ad28608fbf288e43cf37">miItems</a>].<a class="code" href="classc_cluster.html#a18406f95cb8ae040c5db49c6ca213e59">Add</a>(ClusterData[liLoop]);
<a name="l00068"></a>00068                                                 ClusterData.<a class="code" href="classc_limited_list.html#a944c6ae2b1e13a144cc384766f9c12ae">Remove</a>(liLoop);
<a name="l00069"></a>00069                                                 lbFinished=<span class="keyword">false</span>;
<a name="l00070"></a>00070                                                 --liLoop;
<a name="l00071"></a>00071                                         }
<a name="l00072"></a>00072                                 }
<a name="l00073"></a>00073                         }
<a name="l00074"></a>00074                 }
<a name="l00075"></a>00075         }
<a name="l00076"></a>00076 
<a name="l00077"></a>00077         <a class="code" href="classc_limited_list.html#a9509f6f3a5d9ad28608fbf288e43cf37">miItems</a>++;
<a name="l00078"></a>00078 };
<a name="l00079"></a>00079 
<a name="l00080"></a><a class="code" href="classc_cluster_list.html#a38f0863da90eb645b157cb3e88d3cd9a">00080</a> <span class="keywordtype">void</span> <a class="code" href="classc_cluster_list.html#a38f0863da90eb645b157cb3e88d3cd9a">cClusterList::GenerateClusters</a>(<a class="code" href="classc_full_face_list.html" title="A dynamic linked list of cFullFaceData. As described. Can load object to and from IMFs...">cFullFaceList</a> &amp;ClusterData)
<a name="l00081"></a>00081 {
<a name="l00082"></a>00082 
<a name="l00083"></a>00083 <a class="code" href="classc_cluster_list.html#add154dae70923fdf275dbffbe2535bc6">GenerateConvex</a>(ClusterData);
<a name="l00084"></a>00084 <a class="code" href="classc_cluster_list.html#a09dfd33c463dce1fbb7a29ff27ffe862">GenerateConcaves</a>(ClusterData);
<a name="l00085"></a>00085 
<a name="l00086"></a>00086 };
<a name="l00087"></a>00087 
<a name="l00088"></a>00088 
<a name="l00089"></a>00089 
<a name="l00090"></a>00090 
<a name="l00091"></a><a class="code" href="classc_cluster.html#a92fc1be6bfad8a7389fc6f3307080080">00091</a> <span class="keywordtype">void</span> <a class="code" href="classc_cluster.html#a92fc1be6bfad8a7389fc6f3307080080">cCluster::Order</a>()
<a name="l00092"></a>00092 {
<a name="l00093"></a>00093         <span class="comment">/*</span>
<a name="l00094"></a>00094 <span class="comment">         * Find Starting point for planes (IE Furthest from Centre)</span>
<a name="l00095"></a>00095 <span class="comment">         *</span>
<a name="l00096"></a>00096 <span class="comment">         */</span>
<a name="l00097"></a>00097         <span class="keywordtype">float</span> lfFurthestDist=0;
<a name="l00098"></a>00098         uint32 liFurthestPlane=0;
<a name="l00099"></a>00099         uint32 liCount;
<a name="l00100"></a>00100         <span class="keywordflow">for</span>(liCount=0;liCount&lt;miItems;++liCount)
<a name="l00101"></a>00101         {
<a name="l00102"></a>00102                 <span class="keywordflow">if</span>(Faces[liCount].Plane.Distance()&gt;lfFurthestDist)
<a name="l00103"></a>00103                 {
<a name="l00104"></a>00104                         lfFurthestDist=Faces[liCount].<a class="code" href="classc_face.html#aa61d6dca6df8211a1a816edbf303bd27">Plane</a>.<a class="code" href="classc_plane.html#a791c2367a99bb9818e4235962bfe504f" title="Will Return the Distance this Plane sits from the origin. (Can be +ve or -ve)">Distance</a>();
<a name="l00105"></a>00105                         liFurthestPlane=liCount;
<a name="l00106"></a>00106                 }
<a name="l00107"></a>00107         }
<a name="l00108"></a>00108         <a class="code" href="classc_cluster.html#a6d520713715a5971e5d9dca52ee2d4b6">Switch</a>(0,liCount);
<a name="l00109"></a>00109         
<a name="l00110"></a>00110         <span class="comment">/*</span>
<a name="l00111"></a>00111 <span class="comment">         * This will order the rest of the planes by selecting the plane which is</span>
<a name="l00112"></a>00112 <span class="comment">         * overall furthest from all the sorted planes.</span>
<a name="l00113"></a>00113 <span class="comment">         */</span>
<a name="l00114"></a>00114         <span class="comment">//liCount is the number of positions (at the start) which are ordered.</span>
<a name="l00115"></a>00115         uint32 liLoop;
<a name="l00116"></a>00116         <span class="keywordflow">for</span>(liCount=1;liCount&lt;miItems-1;++liCount)
<a name="l00117"></a>00117         {
<a name="l00118"></a>00118                 lfFurthestDist=0;
<a name="l00119"></a>00119                 liFurthestPlane=0;
<a name="l00120"></a>00120                 <span class="comment">//liLoop will go through every un sorted face to test them.</span>
<a name="l00121"></a>00121                 <span class="keywordflow">for</span>(liLoop=liCount;liLoop&lt;miItems;++liLoop)
<a name="l00122"></a>00122                 {
<a name="l00123"></a>00123                         uint32 liGetDist;
<a name="l00124"></a>00124                         <span class="keywordtype">double</span> lfAbsoluteDist=0.0f;
<a name="l00125"></a>00125                         <span class="comment">//liGetDist will calculate plane[liLoops] distance to every plane[liGetDist] face.</span>
<a name="l00126"></a>00126                         <span class="keywordflow">for</span>(liGetDist=0;liGetDist&lt;liCount;++liGetDist)
<a name="l00127"></a>00127                         {
<a name="l00128"></a>00128                                 lfAbsoluteDist+=Faces[liLoop].<a class="code" href="classc_face.html#aa61d6dca6df8211a1a816edbf303bd27">Plane</a>.<a class="code" href="classc_plane.html#a041eaa860e54ab87fb06adc08d43fc2d" title="Returns the distance between the points on the two planes that lie on their normal vectors from the o...">AbsoluteDistance</a>(Faces[liGetDist].Plane);
<a name="l00129"></a>00129                         }
<a name="l00130"></a>00130                         <span class="keywordflow">if</span>(lfAbsoluteDist&gt;lfFurthestDist)
<a name="l00131"></a>00131                         {
<a name="l00132"></a>00132                                 lfFurthestDist=lfAbsoluteDist;
<a name="l00133"></a>00133                                 liFurthestPlane=liLoop;
<a name="l00134"></a>00134                         }
<a name="l00135"></a>00135                 }
<a name="l00136"></a>00136                 <a class="code" href="classc_cluster.html#a6d520713715a5971e5d9dca52ee2d4b6">Switch</a>(liLoop,liCount);
<a name="l00137"></a>00137         }
<a name="l00138"></a>00138 };
<a name="l00139"></a>00139 
<a name="l00140"></a><a class="code" href="classc_cluster.html#afe2dbd58852ed9884fef815fb623d949">00140</a> <span class="keywordtype">void</span> <a class="code" href="classc_cluster.html#afe2dbd58852ed9884fef815fb623d949">cCluster::Remove</a>(uint32 li1)
<a name="l00141"></a>00141 {
<a name="l00142"></a>00142         <span class="keywordflow">if</span>(li1&lt;miItems)
<a name="l00143"></a>00143         {
<a name="l00144"></a>00144         memcpy(&amp;Faces[li1],&amp;Faces[li1+1],<span class="keyword">sizeof</span>(<a class="code" href="classc_face.html" title="This class will store data about faces for a 3D Mesh. This can be used for Models, Collision Meshes or any other object using 3D Faces. Includes code for loading and saving the object types to and from IMF Files. Uses cVertex and cPlane to store the data.">cFace</a>)*(miItems-li1-1));
<a name="l00145"></a>00145         --miItems;
<a name="l00146"></a>00146         }
<a name="l00147"></a>00147 }
<a name="l00148"></a>00148 
<a name="l00149"></a><a class="code" href="classc_cluster.html#ac3cd20b4c2639fb7b7eb1d91941ad3dd">00149</a> <span class="keywordtype">void</span> <a class="code" href="classc_cluster.html#ac3cd20b4c2639fb7b7eb1d91941ad3dd">cCluster::Strip</a>()
<a name="l00150"></a>00150 {
<a name="l00151"></a>00151         uint32 liCount;
<a name="l00152"></a>00152         uint32 liLoop;
<a name="l00153"></a>00153         <span class="keywordflow">for</span>(liCount=0;liCount&lt;miItems-1;++liCount)
<a name="l00154"></a>00154         {
<a name="l00155"></a>00155                 <span class="keywordflow">for</span>(liLoop=liCount+1;liLoop&lt;miItems;++liLoop)
<a name="l00156"></a>00156                 {
<a name="l00157"></a>00157                         <span class="keywordflow">if</span>(Faces[liCount].Plane==Faces[liLoop].Plane) {<a class="code" href="classc_cluster.html#afe2dbd58852ed9884fef815fb623d949">Remove</a>(liLoop); liLoop=liCount;}
<a name="l00158"></a>00158                 }
<a name="l00159"></a>00159         }
<a name="l00160"></a>00160 };
<a name="l00161"></a>00161 
<a name="l00162"></a><a class="code" href="classc_cluster.html#a6d520713715a5971e5d9dca52ee2d4b6">00162</a> <span class="keywordtype">void</span> <a class="code" href="classc_cluster.html#a6d520713715a5971e5d9dca52ee2d4b6">cCluster::Switch</a>(uint32 li1,uint32 li2)
<a name="l00163"></a>00163 {
<a name="l00164"></a>00164         <a class="code" href="classc_face.html" title="This class will store data about faces for a 3D Mesh. This can be used for Models, Collision Meshes or any other object using 3D Faces. Includes code for loading and saving the object types to and from IMF Files. Uses cVertex and cPlane to store the data.">cFace</a> lcTemp;
<a name="l00165"></a>00165         lcTemp=Faces[li1];
<a name="l00166"></a>00166         Faces[li1]=Faces[li2];
<a name="l00167"></a>00167         Faces[li2]=lcTemp;
<a name="l00168"></a>00168 };
<a name="l00169"></a>00169 
<a name="l00170"></a>00170 
<a name="l00171"></a><a class="code" href="classc_cluster.html#a3619dea229d3ba27971e269da3b378ae">00171</a>         <a class="code" href="classc_cluster.html#a3619dea229d3ba27971e269da3b378ae">cCluster::~cCluster</a>(){<span class="keywordflow">if</span>(Faces) <span class="keyword">delete</span> []Faces; Faces=0;miSpaces=miItems=0;};
<a name="l00172"></a><a class="code" href="classc_cluster.html#ab74ec08068af60493977ad34c5574c06">00172</a>         <a class="code" href="classc_cluster.html#ab74ec08068af60493977ad34c5574c06">cCluster::cCluster</a>(){Faces=0;miSpaces=miItems=0;};
<a name="l00173"></a><a class="code" href="classc_cluster.html#a50ea40648d8dcd58e3a6efeac29d248c">00173</a>         <span class="keywordtype">void</span> <a class="code" href="classc_cluster.html#a50ea40648d8dcd58e3a6efeac29d248c">cCluster::Init</a>(uint32 liSize){<span class="keywordflow">if</span>(Faces) <span class="keyword">delete</span> []Faces; miSpaces=liSize; Faces=<span class="keyword">new</span> <a class="code" href="classc_face.html" title="This class will store data about faces for a 3D Mesh. This can be used for Models, Collision Meshes or any other object using 3D Faces. Includes code for loading and saving the object types to and from IMF Files. Uses cVertex and cPlane to store the data.">cFace</a>[miSpaces]; miItems=0;};
<a name="l00174"></a><a class="code" href="classc_cluster.html#afd4809ebe068176d59baabd068ba217b">00174</a>         <span class="keywordtype">void</span> <a class="code" href="classc_cluster.html#afd4809ebe068176d59baabd068ba217b">cCluster::Optimise</a>(){<a class="code" href="classc_cluster.html#ac3cd20b4c2639fb7b7eb1d91941ad3dd">Strip</a>();<a class="code" href="classc_cluster.html#a92fc1be6bfad8a7389fc6f3307080080">Order</a>();<a class="code" href="classc_cluster.html#aa52dd680312de3a5b88e46482c2403e3">Resize</a>();};
<a name="l00175"></a>00175 
<a name="l00176"></a><a class="code" href="classc_cluster.html#a6e326c98acf18747df2cfeebf79747fc">00176</a>         uint32 <a class="code" href="classc_cluster.html#a6e326c98acf18747df2cfeebf79747fc">cCluster::FileSize</a>()
<a name="l00177"></a>00177         {
<a name="l00178"></a>00178                 uint32 liSize=0;
<a name="l00179"></a>00179                 uint32 liCount;
<a name="l00180"></a>00180                 <span class="keywordflow">for</span>(liCount=0;liCount&lt;miItems;++liCount)
<a name="l00181"></a>00181                 {
<a name="l00182"></a>00182                         liSize+=Faces[liCount].<a class="code" href="classc_face.html#ac2da0ca5e4269e12016b74c6443cde32">FileSize</a>();
<a name="l00183"></a>00183                 }
<a name="l00184"></a>00184                 liSize+=<span class="keyword">sizeof</span>(uint32);
<a name="l00185"></a>00185                 <span class="keywordflow">return</span> liSize;
<a name="l00186"></a>00186         };
<a name="l00187"></a>00187         
<a name="l00188"></a><a class="code" href="classc_cluster.html#a839fcbeea273b74074f24b818113e84e">00188</a> uint32 <a class="code" href="classc_cluster.html#a839fcbeea273b74074f24b818113e84e">cCluster::Items</a>(){<span class="keywordflow">return</span> miItems;};
<a name="l00189"></a><a class="code" href="classc_cluster.html#ac69ada115a3ad8d775c94030f3971f45">00189</a> <a class="code" href="classc_face.html" title="This class will store data about faces for a 3D Mesh. This can be used for Models, Collision Meshes or any other object using 3D Faces. Includes code for loading and saving the object types to and from IMF Files. Uses cVertex and cPlane to store the data.">cFace</a> <a class="code" href="classc_cluster.html#ac69ada115a3ad8d775c94030f3971f45">cCluster::Face</a>(uint32 li1){<span class="keywordflow">return</span> Faces[li1];};
<a name="l00190"></a><a class="code" href="classc_cluster.html#aa52dd680312de3a5b88e46482c2403e3">00190</a> <span class="keywordtype">void</span> <a class="code" href="classc_cluster.html#aa52dd680312de3a5b88e46482c2403e3">cCluster::Resize</a>()
<a name="l00191"></a>00191 {
<a name="l00192"></a>00192          <a class="code" href="classc_face.html" title="This class will store data about faces for a 3D Mesh. This can be used for Models, Collision Meshes or any other object using 3D Faces. Includes code for loading and saving the object types to and from IMF Files. Uses cVertex and cPlane to store the data.">cFace</a> *lpTemp;
<a name="l00193"></a>00193          lpTemp=<span class="keyword">new</span> <a class="code" href="classc_face.html" title="This class will store data about faces for a 3D Mesh. This can be used for Models, Collision Meshes or any other object using 3D Faces. Includes code for loading and saving the object types to and from IMF Files. Uses cVertex and cPlane to store the data.">cFace</a>[miItems];
<a name="l00194"></a>00194          uint32 liCount;
<a name="l00195"></a>00195          <span class="keywordflow">for</span>(liCount=0;liCount&lt;miItems;++liCount)
<a name="l00196"></a>00196          {
<a name="l00197"></a>00197           lpTemp[liCount]=Faces[liCount];
<a name="l00198"></a>00198          }
<a name="l00199"></a>00199          <span class="keyword">delete</span> []Faces;
<a name="l00200"></a>00200          Faces=lpTemp;
<a name="l00201"></a>00201          miSpaces=miItems;
<a name="l00202"></a>00202 };
<a name="l00203"></a>00203 
<a name="l00204"></a><a class="code" href="classc_cluster.html#a16e894ebf06649cb8cc893378633ba18">00204</a>         <span class="keywordtype">void</span> <a class="code" href="classc_cluster.html#a16e894ebf06649cb8cc893378633ba18">cCluster::OutputIMFClusters</a>(ofstream &amp;FileStream)
<a name="l00205"></a>00205         {
<a name="l00206"></a>00206                 FileStream.write((int8 *) &amp;miItems,<span class="keyword">sizeof</span>(uint32));
<a name="l00207"></a>00207                 uint32 liCount;
<a name="l00208"></a>00208                 <span class="keywordflow">for</span>(liCount=0;liCount&lt;miItems;++liCount)
<a name="l00209"></a>00209                 {
<a name="l00210"></a>00210                         Faces[liCount].<a class="code" href="classc_face.html#a1b1ff8e5ec5f30b1140e7f1e71086ed5">OutputIMFFace</a>(FileStream);
<a name="l00211"></a>00211                 }
<a name="l00212"></a>00212         };
<a name="l00213"></a>00213         
<a name="l00214"></a><a class="code" href="classc_cluster.html#a47b962cf7ec206fa73e30122929d425b">00214</a>         <span class="keywordtype">void</span> <a class="code" href="classc_cluster.html#a47b962cf7ec206fa73e30122929d425b">cCluster::LoadIMFClusters</a>(ifstream &amp;FileStream)
<a name="l00215"></a>00215         {
<a name="l00216"></a>00216                 uint32 liCount;
<a name="l00217"></a>00217                 FileStream.read((int8 *) &amp;liCount,<span class="keyword">sizeof</span>(uint32));
<a name="l00218"></a>00218                 <a class="code" href="classc_cluster.html#a50ea40648d8dcd58e3a6efeac29d248c">Init</a>(liCount);
<a name="l00219"></a>00219                 <span class="keywordflow">for</span>(liCount=0;liCount&lt;miItems;++liCount)
<a name="l00220"></a>00220                 {
<a name="l00221"></a>00221                         Faces[liCount].<a class="code" href="classc_face.html#a8a39f8e4a8bf051dc67c7f55a88d636b">LoadIMFFace</a>(FileStream);
<a name="l00222"></a>00222                 }
<a name="l00223"></a>00223         };
</pre></div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>WTcCluster.cpp</b>      </li>
      <li class="footer">Generated on Sun Sep 11 2011 13:58:39 for DivWin by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
